extends ../../layouts/default.pug

block main
    .cart-detail
        .container.my-5
            .row 
                .col-12.px-0.d-flex.align-items-center
                    i.fa-solid.fa-cart-shopping.mr-1
                    h2.cart-title Giỏ hàng

            .row.mt-3 
                .col-12.table
                    if(cartDetail.products.length > 0)
                        table(class="table table-bordered")
                            thead 
                                tr 
                                    th STT
                                    th Ảnh minh họa
                                    th Tên sản phẩm
                                    th Giá
                                    th Số lượng
                                    th Tổng tiền
                                    th Hành động
                            tbody
                                each item, index in cartDetail.products
                                    tr
                                        td #{index + 1}
                                        td 
                                            img(src=item.productInfo.thumbnail, alt=item.productInfo.title width="80px")
                                        td
                                            a(
                                                href=`/products/detail/${item.productInfo.slug}` 
                                                class="td-name"
                                            ) #{item.productInfo.title}
                                        td #{item.productInfo.priceNew.toLocaleString('vi-VN')}đ
                                        td
                                            input(
                                                type="number"
                                                name="quantity"
                                                min="1"
                                                value=item.quantity
                                                product-id=item.product_id
                                                style="width: 60px"
                                            )
                                        td #{item.totalPrice.toLocaleString('vi-VN')}đ
                                        td
                                            a(
                                                href=`/cart/delete/${item.product_id}`
                                                class="btn-delete"
                                            ) 
                                                i.fa-solid.fa-trash
                        h3(class="text-right") Tổng đơn hàng: 
                            span #{cartDetail.totalPrice.toLocaleString('vi-VN')}đ
                        div(class="text-right mt-3")
                            a(href="/checkout" class="button button-cart") THANH TOÁN
                    else
                        div.text-center
                            img(
                                src="/client/images/noresults.png" 
                                alt="No results"
                                width="276px"
                                height="276px"
                            )
                            p Không có sản phẩm nào
                            a(
                                href="/"
                                class="btn-black mb-1"
                            ) Về trang chủ
                            p.detail-text
                                | Khi cần trợ giúp, vui lòng gọi 
                                span 1800.6018
                                |  (7:30 - 22:00)

                                 

                    
